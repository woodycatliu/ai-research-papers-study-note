# 多視圖內容感知索引用於長文件檢索 (Multi-view Content-aware Indexing for Long Document Retrieval)

## 核心問題

現有的**長文件問答 (DocQA)** 索引方法存在明顯的不足。最常見的**固定長度分塊策略**會**忽略文件本身的內容結構**，導致以下問題：

* 索引出的文本塊可能遺漏關鍵資訊或包含不相關內容。
* 高達 *70%* 的長答案或支持證據可能被錯誤地截斷。

此外，**大型語言模型 (LLMs)** 在處理長文件時也面臨挑戰，包括**標記限制**和**效能顯著下降**，難以有效地保留和引用文件中早期部分的信息。

## 核心提案：多視圖內容感知索引 (MC-indexing)

**MC-indexing** 旨在提高長文件 DocQA 的效率和檢索性能，其核心包含兩大支柱：

### 內容感知分塊 (Content-aware chunking)

這種方法會根據結構化長文件的內容結構（例如章節、小節），將其分割成語義連貫的「區段塊」。這確保了每個區段塊都是一個原子且語義連貫的單元，從而**消除分塊錯誤**。

### 多視圖索引 (Multi-view indexing)

每個區段塊不僅以**原始文本**進行表示，還額外生成兩種額外的視圖來進行索引：

* **關鍵字列表**
* **摘要**

> **關鍵優勢**：
>
> * **即插即用 (Plug-and-play)**：無需訓練或微調，可無縫整合到任何現有檢索器中以提升其性能。
> * **檢索效率提升**：通過整合來自原始文本、關鍵字和摘要多個視圖的結果，顯著提高檢索召回率。

## 實驗與成果

1.  **新數據集貢獻**：研究團隊建立了一個新的長文件 DocQA 數據集，其中包含問題-答案對、文件結構和答案範圍。此數據集的平均文件長度為 *15k-28k* 標記。
2.  **性能顯著提升**：
    * 與現有的固定長度分塊方案相比，MC-indexing 顯著提高了檢索召回率，在 `top k = 1.5` 時平均提高了 **42.8%**。
    * 內容感知分塊能有效減少甚至消除分塊錯誤（錯誤率為 `0.0`）。
    * 多視圖策略（整合三種視圖）顯著優於所有固定長度分塊和單視圖基線。
    * 在答案生成品質評估中，MC-indexing 在所有檢索器和評估指標上均顯示出更高的勝率。
3.  **各視圖的貢獻**：消融研究顯示，`摘要`、`原始文本` 和 `關鍵字` 三種視圖都對檢索性能的提升起著關鍵作用。

## 局限性

* **依賴結構化文件**：MC-indexing **嚴重依賴文件的結構化格式**。如果文件缺乏明確的內容結構指示，將很難應用內容感知分塊。
* **不適用於短文件**：此方法不旨在提高非結構化短文件的檢索性能，因為短文件通常在 LLM 的能力範圍內。

## 未來工作

* 探索如何利用文件的**層次結構**進行更有效的檢索。
* 訓練或微調一個能夠跨多視圖生成更細粒度嵌入的檢索器。